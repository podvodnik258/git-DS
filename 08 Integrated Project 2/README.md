## Постановка задачи

Подготовьте прототип модели машинного обучения. Компания разрабатывает решения для эффективной работы промышленных предприятий.

Модель должна предсказать коэффициент восстановления золота из золотосодержащей руды. В вашем распоряжении данные с параметрами добычи и очистки.

Модель поможет оптимизировать производство, чтобы не запускать предприятие с убыточными характеристиками.

## Технологический процесс

Как золото получают из руды? Изучите внимательно стадии процесса.
Когда добытая руда проходит первичную обработку, получается дроблёная смесь. Её отправляют на флотацию (обогащение) и двухэтапную очистку.
 
Опишем каждую стадию:

1. Флотация
Во флотационную установку подаётся смесь золотосодержащей руды. После обогащения получается черновой концентрат и «отвальные хвосты», то есть остатки продукта с низкой концентрацией ценных металлов.
На стабильность этого процесса влияет непостоянное и неоптимальное физико-химическое состояние флотационной пульпы (смеси твёрдых частиц и жидкости).

2. Очистка
Черновой концентрат проходит две очистки. На выходе получается финальный концентрат и новые отвальные хвосты.

## Описание данных

**Технологический процесс**

*	R*ugher feed — исходное сырье
*	R*ugher additi*ns (или reagent additi*ns) — флотационные реагенты: Xanthate, Sulphate, Depressant
*	Xanthate **— ксантогенат (промотер, или активатор флотации);
*	Sulphate — сульфат (на данном производстве сульфид натрия);
*	Depressant — депрессант (силикат натрия).
*	R*ugher pr*cess (англ. «грубый процесс») — флотация
*	R*ugher tails — отвальные хвосты
*	Fl*at banks — флотационная установка
*	Cleaner pr*cess — очистка
*	R*ugher Au — черновой концентрат золота
*	Final Au — финальный концентрат золота

**Параметры этапов**

*	air am*unt — объём воздуха
*	fluid levels — уровень жидкости
*	feed size — размер гранул сырья
*	feed rate — скорость подачи

### Наименование признаков

Наименование признаков должно быть такое:

[этап].[тип_параметра].[название_параметра]

Пример: r*ugher.input.feed_ag

Возможные значения для блока [этап]:

*	r*ugher — флотация
*	primary_cleaner — первичная очистка
*	sec*ndary_cleaner — вторичная очистка
*	final — финальные характеристики

Возможные значения для блока [тип_параметра]:

*	input — параметры сырья
*	*utput — параметры продукта
*	state — параметры, характеризующие текущее состояние этапа
*	calculati*n — расчётные характеристики

### Расчёт эффективности

Вам нужно смоделировать процесс восстановления золота из золотосодержащей руды.
Эффективность обогащения рассчитывается по формуле
 
где:
*	C — доля золота в концентрате после флотации/очистки;
*	F — доля золота в сырье/концентрате до флотации/очистки;
*	T — доля золота в отвальных хвостах после флотации/очистки.

Для прогноза коэффициента нужно найти долю золота в концентратах и хвостах. Причём важен не только финальный продукт, но и черновой концентрат.

### Метрика качества

Для решения задачи введём новую метрику качества — sMAPE (англ. Symmetric Mean Abs*lute Percentage Err*r, «симметричное среднее абсолютное процентное отклонение»).
Она похожа на MAE, но выражается не в абсолютных величинах, а в относительных. Почему симметричная? Она одинаково учитывает масштаб и целевого признака, и предсказания.

Метрика sMAPE вычисляется так:
 
Нужно спрогнозировать сразу две величины:

1.	эффективность обогащения чернового концентрата r*ugher.*utput.rec*very;
2.	эффективность обогащения финального концентрата final.*utput.rec*very.

Итоговая метрика складывается из двух величин:
 
